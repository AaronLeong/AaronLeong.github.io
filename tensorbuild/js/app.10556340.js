(function(e){function t(t){for(var n,i,s=t[0],d=t[1],r=t[2],p=0,c=[];p<s.length;p++)i=s[p],o[i]&&c.push(o[i][0]),o[i]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);u&&u(t);while(c.length)c.shift()();return l.push.apply(l,r||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,s=1;s<a.length;s++){var d=a[s];0!==o[d]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var u=d;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),o=a.n(n);o.a},"27ed":function(e,t,a){},"2ac7":function(e,t,a){},"2d4a":function(e,t,a){},"32d2":function(e,t,a){"use strict";var n=a("ac8a"),o=a.n(n);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",{staticClass:"main"},[a("el-header",[a("Header")],1),a("el-container",[a("el-main",[a("keep-alive",[a("router-view")],1)],1),a("el-footer",[a("Footer")],1)],1)],1)],1)},l=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{xs:12,sm:6,md:4}},[a("h1",{staticClass:"logo"},[e._v("TensorBuild")]),a("span",{staticClass:"version"},[e._v("alpha")])]),a("el-col",{attrs:{xs:12,sm:18,md:20}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,router:!0,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[a("el-menu-item",{staticClass:"hidden-xs-only",attrs:{index:"workshop"}},[e._v("我的工作台")]),a("el-menu-item",{staticClass:"hidden-xs-only",attrs:{index:"editor"}},[e._v("模型代码")]),a("el-menu-item",{staticClass:"hidden-xs-only"},[a("a",{attrs:{href:"http://pytorch.cn/docs/stable/index.html",target:"_blank"}},[e._v("Pythorch 文档")])]),a("el-submenu",{staticClass:"hidden-sm-and-up"},[a("template",{slot:"title"},[e._v("菜单")]),a("el-menu-item",{attrs:{index:"workshop"}},[e._v("我的工作台")]),a("el-menu-item",{attrs:{index:"editor"}},[e._v("模型代码")])],2)],1)],1)],1)},s=[],d={name:"Header",data:function(){return{isCollapse:!0,activeIndex:"1"}},methods:{handleSelect:function(e,t){console.log(e,t)}}},r=d,u=(a("32d2"),a("2877")),p=Object(u["a"])(r,i,s,!1,null,"503aeade",null),c=p.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("Design Model Workshop")])},h=[],g={name:"Footer",data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(e,t){console.log(e,t)}}},f=g,y=Object(u["a"])(f,_,h,!1,null,null,null),m=y.exports,v={name:"App",components:{Header:c,Footer:m}},b=v,x=(a("034f"),Object(u["a"])(b,o,l,!1,null,null,null)),k=x.exports,w=a("2f62");n["default"].use(w["a"]);var C=new w["a"].Store({state:{graph:null,selectedNodeInfo:{node:{},params:{}}},getters:{getGraph:function(e){return e.graph},getInspectNode:function(e){return e.selectedNodeInfo}},mutations:{inspectNode:function(e,t){e.selectedNodeInfo=t},setGraph:function(e,t){e.graph=t}}}),R=a("8c4f"),B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-workshop"},[a("Workshop"),a("Inspect"),a("el-popover",{attrs:{placement:"bottom",title:"标题",width:"200",trigger:"manual",content:"这是一段内容,这是一段内容,这是一段内容,这是一段内容。"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}})],1)},T=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-draggable-resizable",{attrs:{x:e.top,y:e.left,w:245,h:28,"drag-handle":".drag-handle"}},[a("div",{staticClass:"drag-handle"},[a("h3",{staticClass:"inspect-title"},[e._v(e._s(e.node_op_label))]),a("el-button-group",{staticClass:"btn-save-params"},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-s-promotion"},on:{click:e.onSubmit}}),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-close"},on:{click:e.onClose}})],1)],1),a("div",{staticClass:"inspect-content",attrs:{id:"inspectContent"}})])},P=[],L=(a("456d"),a("ac6a"),new n["default"]),I=a("da5e"),S=a("fb19"),z=a.n(S),M={name:"Inspect",components:{VueDraggableResizable:z.a},data:function(){return{width:0,height:0,top:0,left:-300,node_op_label:"",params_keys:[]}},computed:{selectedNodeInfo:function(){return this.$store.state.selectedNodeInfo}},watch:{selectedNodeInfo:function(){this.left=this.selectedNodeInfo.event.clientX,this.top=this.selectedNodeInfo.event.clientY,this.showInspect(this.selectedNodeInfo.node)}},mounted:function(){this.inspectContent=document.getElementById("inspectContent")},methods:{showInspect:function(e){console.log("showInspect:",e);var t={};Object.keys(e.params).forEach(function(a){var n=e.params[a];"name"!=a&&(void 0!=n["value"]&&null!=n["value"]||(n.value=0),-1!=n.type.indexOf("tuple")?n.value=parseInt(n.value):-1!=n.type.indexOf("int")?n.value=parseInt(n.value):-1!=n.type.indexOf("float")?(console.log("float",a,n.value),n.value=parseFloat(n.value)):-1!=n.type.indexOf("str")?n.value=n.value:-1!=n.type.indexOf("bool")&&(console.log("key bool",a,n.value),n.value="True"==n.value),t[a]=n["value"],e.params[a]=n)}),this.node_op_label=e.attrs.label,this.gui_info=t,this.params_keys=Object.keys(this.gui_info);var a=new I["a"]({name:e.id,autoPlace:!1});console.log("params_keys",this.params_keys,this.gui_info);for(var n=[],o=0;o<this.params_keys.length;o++){var l=this.params_keys[o];-1!=e.params[l].type.indexOf("tuple")?n.push(a.add(this.gui_info,l,0,void 0,1)):-1!=e.params[l].type.indexOf("int")?n.push(a.add(this.gui_info,l,0,void 0,1)):-1!=e.params[l].type.indexOf("float")?(console.log("key",l),n.push(a.add(this.gui_info,l))):-1!=e.params[l].type.indexOf("str")?n.push(a.add(this.gui_info,l)):-1!=e.params[l].type.indexOf("bool")&&n.push(a.add(this.gui_info,l))}for(var i=0;i<n.length;i++)n[i].onChange(function(e){}),n[i].onFinishChange(function(e){});var s=a.domElement;this.inspectContent.innerHTML="",this.inspectContent.appendChild(s)},onSubmit:function(){for(var e=0;e<this.params_keys.length;e++){var t=this.params_keys[e];this.selectedNodeInfo.node.params[t].value=this.gui_info[t]}L.$emit("UpdateNode",this.selectedNodeInfo.node)},onClose:function(){this.inspectContent.innerHTML="",this.left=-300},onResize:function(e,t,a,n){this.x=e,this.y=t,this.width=a,this.height=n},onDrag:function(e,t){this.x=e,this.y=t}}},F=M,G=(a("6476"),Object(u["a"])(F,N,P,!1,null,"7827aac2",null)),A=G.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"graph-container"},[a("div",{staticClass:"tools hidden-md-and-down"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"export graph",placement:"top"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.graphExport}},[e._v("Export")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"clear graph",placement:"top"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.clear}},[e._v("Clear")])],1)],1),a("svg",{attrs:{id:"root-graph"}}),a("div",{staticClass:"SearchBox",staticStyle:{display:"none"},attrs:{id:"SearchBox"}},[a("el-row",{staticClass:"search-autocomplete"},[a("el-col",{attrs:{span:24}},[a("el-autocomplete",{attrs:{id:"search-inline-input",size:"mini","prefix-icon":"el-icon-search","fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.SelectState,callback:function(t){e.SelectState=t},expression:"SelectState"}})],1)],1)],1),a("el-dialog",{attrs:{title:"Graph Model",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-input",{attrs:{type:"textarea",id:"model_input",autosize:{minRows:5,maxRows:10},placeholder:"请输入内容"}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.importGraph}},[e._v("确 定")])],1)],1)],1)},O=[],D=(a("7f7f"),a("5698")),j=a("1226"),U=a.n(j);function V(){this.tooltip=D["e"]("body").append("div").attr("class","tooltip").style("opacity",0),this.render.arrows().hollowPoint=function(e,t,a,n){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",10).attr("markerHeight",8).attr("orient","auto"),l=o.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0").style("fill","#fff").style("stroke","#333");U.a.util.applyStyle(l,a[n+"Style"])}}var $={apply_style:V};a("55dd");function q(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.id=t,this.name="group",this.label="group",this.type="group",this.x=0,this.y=0,this.width=0,this.height=0,this.mini_height=40,this.mini_width=80,this.inputs=[],this.ouputs=[],this.children=a,this.nodes={},this.isCollapse=!1,this.nodes_edges={}}function H(){this.children||(this.children=this._model.g.children(this.id));for(var e=0;e<this.children.length;e++)this.nodes[this.children[e]]=this._model.g.node(this.children[e]);for(var t=0;t<this.children.length;t++)this.nodes_edges[this.children[t]]=this._model.g.nodeEdges(this.children[t]);console.log(this)}function W(e,t){this.nodes[t.id]=t,this.children.push(t.id),e.setParent(t.id,this.id)}function X(e){delete this.nodes[e.id];var t=this.children.indexOf(e.id);delete this.children[t],this._model.graph_data=U.a.graphlib.json.write(this._model.g),this._model.g.nodeEdges(e.id),this.nodes_edges[e.id]=this._model.g.nodeEdges(e.id)}function J(e,t,a){console.log(this,t,"group moveTo transform_to");for(var n=0;n<this.children.length;n++){var o=t[this.children[n]];e.node(this.children[n]).x+=D["c"].dx,e.node(this.children[n]).y+=D["c"].dy;var l="translate("+e.node(this.children[n]).x+","+e.node(this.children[n]).y+")";o.attr("transform",l)}}function Y(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null==n?(n=this.isCollapse,this.isCollapse=!this.isCollapse):this.isCollapse=n;for(var o=0;o<this.children.length;o++)if(n){var l=e.node(this.children[o]);e.node(this.children[o]).pre_x=l.x,e.node(this.children[o]).pre_y=l.y,e.node(this.children[o]).x=a.x,e.node(this.children[o]).y=a.y,t[this.children[o]].style("opacity",0)}else e.node(this.children[o]).x=e.node(this.children[o]).pre_x,e.node(this.children[o]).y=e.node(this.children[o]).pre_y,t[this.children[o]].style("opacity",1);for(var i=0;i<this.children.length;i++);}q.prototype.initGroup=H,q.prototype.addNode=W,q.prototype.removeNode=X,q.prototype.moveTo=J,q.prototype.setCollapse=Y;a("2ef0");var Z=a("f654");function K(){var e=new U.a.graphlib.Graph({compound:!0}).setGraph({ranksep:40,nodesep:40,edgesep:10}).setDefaultEdgeLabel(function(){return{}});this.g=e,this.g.last_node_id=-1,this.g.last_edge_id=-1,this.g.graph().transition=function(e){return e.transition().duration(500)},this.group_ids=[],this.groups={},this.groups_children_id={},this.root_graph,this.render,this.root_graph_cfg={},this.root_graph_cfg.initialScale=.5,this.root_graph_cfg.trans_y=20,this.root_graph_cfg.cur_trans_x=0,this.root_graph_cfg.cur_trans_y=20,this.svg_nodes,this.svg_nodes_json={},this.svg_anchors,this.svg_clusters,this.mouse_action,this.connect_link_path,this.connect_link_path_start_position=[0,0],this.connect_source_id="",this.connect_target_id="",this.search_box,this.search_box,this.cur_select_node,this.cur_copy_node_id,this.cur_select_node_neighbor_nodes=[],this.cur_select_node_neighbor_edges=[],this.all_graph_node_metas={},this.global_inputs=[],this.global_outputs=[],this.support_frameworks=["PyTorch"],this.frameworks={},this.cur_framework_name,this.params_types=["int","tuple","bool","obj","str"],this.model_graph_nodes_params={},this.update_count=0,this.__version__="0.1.2"}function Q(e){Z(-1!=this.support_frameworks.indexOf(e),"Do not support this framework"),this.cur_framework_name=e}function ee(e,t){return console.log(e,t),e-=this.root_graph_cfg.cur_trans_x,t=t+this.root_graph_cfg.trans_y-this.root_graph_cfg.cur_trans_y,console.log(e,t),t}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"graph";this.g.last_node_id++,e.svgId="node"+this.g.last_node_id,console.log("add node to type",t);var a=e.x?e.x:0,n=e.y?e.y:0;n=this.formatCoords(a,n),this.g.setNode(e.id,{svgId:e.svgId,label:e.label,labelType:"text",properties:e.properties,x:a,y:n}),this.model_graph_nodes_params[e.id]=e.properties}function ae(e){this.g.last_edge_id++,e.svgId="arc"+this.g.last_edge_id,this.g.setEdge(e.source,e.target,{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",curve:D["a"],label:e.label,labelType:"text",lineInterpolate:"basis",class:e.class,id:e.svgId,labelId:e.svgId+"-label"})}function ne(e){this.addEdge(e)}function oe(e){this.g.removeEdge(e.v,e.w),this.updateGraph()}function le(){for(var e=0;e<this.g.nodes.length;e++){var t=this.g.nodes[e],a=this.g.children(t);if(a.length>0){var n=new q(this,t,a);this.group_ids.push(t),this.groups[t]=n,this.groups_children_id[t]=a}}console.log(this.g.nodes)}function ie(e,t){this.g.nodes=e,this.g.edges=t;var a=this;this.g.nodes.forEach(function(e,t){a.addNode(e)}),this.g.edges.forEach(function(e,t){a.addEdge(e)})}function se(e){this.g.nodes=e.nodes(),this.g.edges=e.edges(),this.g=e,this.g.last_node_id=-1,this.g.last_edge_id=-1}function de(){this.initGroups()}function re(){var e=this;this.svg_nodes=this.root_graph.selectAll("g.node"),this.svg_nodes.each(function(t){e.svg_nodes_json[t]=D["e"](this)})}function ue(){this.svg_anchors=this.root_graph.selectAll("circle.anchor")}function pe(){this.svg_clusters=this.root_graph.selectAll("g.cluster")}function ce(){console.log(this),++this.update_count,console.log("modelGraph updateGraph...step",this.update_count),this.g.graph().transition||(this.g.graph().transition=function(e){return e.transition().duration(500)}),this.render.update(this.g),this.updateSVGNodes(),this.setNodesDraggable(),this.setNodeMenuEvent(),this.setNodeSelectEvent(),this.setEdgeEvent(),this.updateSvgClusters(),this.setClustersDraggable(),this.setGroupEvent(),this.event.emit("update-graph",this)}function _e(){this.render(this.inner,this.g),this.connect_link_path=this.root_graph.select("path.connecting-link"),this.updateSVGNodes(),this.setNodesDraggable(),this.setNodeMenuEvent(),this.setNodeSelectEvent(),this.setEdgeEvent(),this.updateSvgClusters(),this.setClustersDraggable(),this.setGroupEvent()}function he(){var e=D["b"]().on("drag",a).on("end",n),t=this;function a(e){var a=e;e=t.g.node(e),e.x+=D["c"].dx,e.y+=D["c"].dy;var n="translate("+e.x+","+e.y+")";D["e"](this).attr("transform",n),-1!=t.group_ids.indexOf(a)?(t.mouse_action="GroupDraggable",t.groupMove(a,{x:D["c"].dx,y:D["c"].dy})):t.mouse_action="NodeDraggable"}function n(e){D["e"](this).classed("active",!1),"NodeDraggable"==t.mouse_action?(console.log("dragended 要重新渲染边"),t.updateGraph()):"GroupDraggable"==t.mouse_action&&(console.log("dragended GroupDraggable 要重新渲染边"),t.updateGraph()),t.mouse_action=""}return e}function ge(e){this.root_graph.selectAll("#"+e).call(this.getDraggableConfig())}function fe(){this.svg_nodes.call(this.getDraggableConfig())}function ye(){this.svg_nodes.on("contextmenu",this.onContextMenu)}function me(){var e=this;this.svg_nodes.on("click",function(t,a){e.mouse_action="node-click";var n=!0;if(""==e.connect_source_id)e.connect_source_id=t,e.visiblePreNodes(t,!1);else if(e.connect_target_id=t,-1==e.cur_select_node_neighbor_nodes.indexOf(e.connect_target_id)){if(e.connect_source_id!=e.connect_target_id){var o={source:e.connect_source_id,target:e.connect_target_id,label:e.connect_source_id+" to "+e.connect_target_id,class:e.connection_class};n=!1,e.createConnection(o),e.updateGraph()}e.connect_source_id="",e.connect_target_id=""}else n=!1,e.event.emit("node-pre-click",{event:D["c"],id:t});n&&(e.cur_select_node=D["e"](this),e.cur_select_node.selectAll("rect").attr("class","label-container hover"))}).on("dblclick",function(t){e.mouse_action="node-double-click",e.cur_select_node.selectAll("rect").attr("class","label-container double-click"),e.event.emit("node-double-click",{event:D["c"],id:t})}).on("mouseover",function(t){var a=e.model_graph_nodes_params[t],n=[],o='<div class="title">Name: '+t+"</div>";void 0!=a&&Object.keys(a).forEach(function(e){if(void 0!=a[e].value){var t=e+": "+a[e].value;a[e].value==a[e].default&&(t+=" (default)"),n.push(t)}else if(void 0!=a[e].default){var o=e+": "+a[e].value+" (default)";n.push(o)}else n.push(e+": None")}),n=o+n.join("<br>"),e.tooltip.transition().duration(200).style("opacity",.9),e.tooltip.html(n).style("left",D["c"].pageX+"px").style("top",D["c"].pageY-28+"px")}).on("mouseout",function(t){e.tooltip.transition().duration(500).style("opacity",0)})}function ve(){for(var e=0;e<this.cur_select_node_neighbor_nodes.length;e++)this.svg_nodes_json[this.cur_select_node_neighbor_nodes[e]].transition().duration(300).style("opacity",1);for(var t=0;t<this.cur_select_node_neighbor_edges.length;t++){var a=this.g.edge(this.cur_select_node_neighbor_edges[t]);a&&D["e"](a.elem).transition().duration(300).style("opacity",1)}}function be(e,t){this.visibleAllNodes();var a=this.getPreNodes(e),n=a.pre_nodes,o=a.pre_edges,l=1;t||(l=.4);for(var i=0;i<n.length;i++)this.svg_nodes_json[n[i]].transition().duration(300).style("opacity",l);for(var s=0;s<o.length;s++){var d=this.g.edge(o[s]);D["e"](d.elem).transition().duration(300).style("opacity",l)}}function xe(e){function t(e){var a=this.g.inEdges(e),n=[];if(void 0!=a){for(var o=0;o<a.length;o++){n.push(a[o]);var l=t.call(this,a[o].v);n.push.apply(n,l)}return n}return[]}var a=t.call(this,e);return a}function ke(e){for(var t=[],a=this.getPreNodesEdges(e),n=0;n<a.length;n++)t.push(a[n].v);return this.cur_select_node_neighbor_nodes=t,this.cur_select_node_neighbor_edges=a,{pre_nodes:t,pre_edges:a}}function we(e){function t(e){var a=this.g.outEdges(e),n=[];if(void 0!=a){for(var o=0;o<a.length;o++){n.push(a[o]);var l=t.call(this,a[o].w);n.push.apply(n,l)}return n}return[]}var a=t.call(this,e);return a}function Ce(e){for(var t=[],a=this.getSuccNodesEdges(e),n=0;n<a.length;n++)t.push(a[n].w);return console.log(e,"succ_nodes:",t),this.cur_select_node_neighbor_nodes=t,t}function Re(e,t){D["e"](this).classed("hover",!0)}function Be(){var e=this;this.root_graph.selectAll("path.path").on("mouseover",function(t){D["e"](this).style("stroke",e.edge_highlight_stroke).style("stroke-width",e.edge_highlight_stroke_width)}).on("mouseout",function(t){D["e"](this).style("stroke",e.edge_stroke).style("stroke-width",e.edge_stroke_width)}).on("click",function(t){console.log("setEdgeEvent click",t),e.removeEdge(t)})}function Te(){var e=this,t=D["b"]().on("start",a).on("drag",n).on("end",o);function a(t){var a=D["e"](this).attr("type"),n=18;"input"==a&&(n=-18),console.log("type",a,n),t=e.g.node(t),t.dagre_to_x=t.x,t.dagre_to_y=t.y+n,e.connect_link_path_start_position=[t.dagre_to_x,t.dagre_to_y]}function n(t){function a(e,t){var a="M ".concat(e.x," ").concat(e.y,"\n                    C ").concat((e.x+t.x)/2," ").concat(e.y,",\n                      ").concat((e.x+t.x)/2," ").concat(t.y,",\n                      ").concat(t.x," ").concat(t.y);return a}t=e.g.node(t),t.dagre_to_x+=D["c"].dx,t.dagre_to_y+=D["c"].dy;var n=a({x:e.connect_link_path_start_position[0],y:e.connect_link_path_start_position[1]},{x:t.dagre_to_x,y:t.dagre_to_y});e.connect_link_path.classed("hidden",!1),e.connect_link_path.attr("d",n)}function o(t){e.connect_link_path_start_position=[0,0]}this.svg_anchors.call(t)}function Ne(){var e=this;this.root_graph.selectAll("circle.anchor").on("mousedown",function(t){D["d"](this);if(console.log("setAnchorsEvent",t),-1==e.connect_source_node_id)e.connect_source_node_id=t;else{e.connect_target_node_id=t,console.log("connecting...",e.connect_source_node_id,e.connect_target_node_id);var a={source:e.connect_source_node_id,target:e.connect_target_node_id,label:e.connect_source_node_id+" to "+e.connect_target_node_id,class:"inactive"};e.createConnection(a),e.drawGraph(),e.connect_source_node_id=-1,e.connect_target_node_id=-1}}).on("mousemove",function(e){D["d"](this)})}function Pe(){this.svg_clusters.call(this.getDraggableConfig())}function Le(){this.root_graph.selectAll("g.cluster").on("mousedown",function(e){D["d"](this);console.log("setGroupEvent",e)}).on("mousemove",function(e){D["d"](this);console.log("setGroupEvent",e)})}function Ie(e,t){this.groups[e].addNode(this.g,this.g.node(t))}function Se(e,t){var a=this.groups[e].nodes_edges[t];this.g.removeNode(node.id),this.g.setNode(node.id,this.g.nodes[node.id]);for(var n=0;n<a.length;n++){var o=this.g.nodes_edges[node.id][n];this.g.setEdge(o.v,o.w,{curve:D["a"]})}}function ze(e,t){this.groups[e].moveTo(this.g,this.svg_nodes_json,t)}function Me(e,t){this.groups[e].setCollapse(this.g,this.svg_nodes_json,t,!0)}function Fe(){var e=this,t=D["f"]().on("zoom",function(){var t=D["c"].transform;e.root_graph_cfg.initialScale=t.k,e.root_graph_cfg.cur_trans_x=t.x,e.root_graph_cfg.cur_trans_y=t.y,e.inner.attr("transform",D["c"].transform)}).scaleExtent([this.mini_scale,this.max_scale]);this.root_graph.call(t),this.root_graph_cfg.cur_trans_x=this.g.graph().width/2,console.log("graphSVGConfig",this.root_graph_cfg.cur_trans_x,this.root_graph_cfg.cur_trans_y)}function Ge(){}function Ae(e,t){console.log("on setNodeMenuEvent")}function Ee(){var e=this;this.root_graph.on("dblclick.zoom",function(){"node-double-click"!=e.mouse_action?(console.log("root_graph dblclick.zoom"),e.setSearchBoxVisible(!0)):e.mouse_action="dblclick.zoom"}).on("click",function(){e.search_box&&e.setSearchBoxVisible(!1),"node-click"!=e.mouse_action&&"node-double-click"!=e.mouse_action?(console.log("root_graph click"),e.cur_select_node&&e.cur_select_node.selectAll("rect").attr("class","label-container"),e.visibleAllNodes(),e.connect_source_id="",e.cur_select_node=null):e.mouse_action="graph-click"})}function Oe(e){this.search_box||(this.search_box=document.querySelector(this.SearchBoxId)),this.search_suggestion||(this.search_suggestion=document.querySelector(".el-autocomplete-suggestion")),e?(setTimeout(function(){document.getElementById("search-inline-input").focus()},0),this.search_box.style.display="",this.search_box.style.left=D["c"].clientX+"px",this.search_box.style.top=D["c"].clientY+"px",this.search_suggestion.style.display="",this.search_suggestion.style.left=D["c"].clientX+"px",this.search_suggestion.style.top=28+D["c"].clientY+"px"):(this.search_box.style.display="none",this.search_suggestion.style.display="none")}function De(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.g.nodes(),this.global_outputs;var t=this,a=[];this.g.nodes().forEach(function(e){var n=t.g.node(e),o=t.g.successors(e),l=t.g.predecessors(e),i={opt:e,node_id:n.id,inputs:l,outputs:o,coords:[n.x,n.y]};a.push(i)}),e&&a.sort(function(e,t){return e.coords[1]-t.coords[1]});var n={__version__:this.__version__,__date__:new Date,graph:U.a.graphlib.json.write(this.g),params:this.model_graph_nodes_params,order:a,edges:this.g.edges(),last_node_id:this.g.last_node_id,last_edge_id:this.g.last_edge_id,global_inputs:this.global_inputs,global_outputs:this.global_outputs};return n}function je(e){this.g=U.a.graphlib.json.read(e.graph),this.model_graph_nodes_params=e.params,this.g.last_node_id=e.last_node_id,this.g.last_edge_id=e.last_edge_id,this.global_inputs=e.global_inputs,this.global_outputs=e.global_outputs}function Ue(){this.g=new U.a.graphlib.Graph({compound:!0}).setGraph({ranksep:40,nodesep:40,edgesep:10}).setDefaultEdgeLabel(function(){return{}}),this.g.graph().transition=function(e){return e.transition().duration(500)},this.g.last_node_id=-1,this.g.last_edge_id=-1,this.model_graph_nodes_params={},this.updateGraph(),this.cur_select_node_neighbor_nodes=[],this.connect_source_id="",this.connect_target_id="",this.cur_select_node="",this.global_inputs=[],this.global_outputs=[],this.svg_nodes_json={}}function Ve(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.g.hasNode(e))console.log("updateNodeParams",this.model_graph_nodes_params[e],"to",a),Object.keys(a).forEach(function(e){1==a[e].value&&-1!=a[e].type.indexOf("bool")&&(a[e].value="True",console.log("params[key].value",a[e].value)),0==a[e].value&&-1!=a[e].type.indexOf("bool")&&(a[e].value="False",console.log("params[key].value",a[e].value))}),this.model_graph_nodes_params[e]=a;else{var n=this.frameworks[this.cur_framework_name][t];console.log(this.frameworks[this.cur_framework_name].ResNet50),console.log("add a new",t,"node","params",n),-1==this.global_input_node_opt.indexOf(t)&&-1==this.global_output_node_opt.indexOf(t)&&Object.keys(n).forEach(function(e){n[e].value=n[e].default}),this.model_graph_nodes_params[e]=n}}function $e(e){this.updateNodeParams(e.id,{},e.params)}function qe(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.g.last_node_id++,this.all_graph_node_metas[e.name]=e;var t=e.name+"_"+this.g.last_node_id,a="node"+this.g.last_node_id,n={id:t,svgId:a,label:e.name,properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:e.schema},params:e.schema};-1!=this.global_input_node_opt.indexOf(e.name)&&(this.global_inputs.push(t),n.style=this.input_node_style),-1!=this.global_output_node_opt.indexOf(e.name)&&(this.global_outputs.push(t),n.style=this.output_node_style);var o=n.x?n.x:0,l=n.y?n.y:0;l=this.formatCoords(o,l),this.updateNodeParams(n.id,e.name,{}),this.g.setNode(n.id,{svgId:n.svgId,label:n.label,labelType:"text",properties:n.properties,x:o,y:l})}function He(e){var t=this.g.node(e),a=this.model_graph_nodes_params[e];return{id:e,attrs:t,params:a}}function We(){function e(){this.events={}}return e.prototype.on=function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},e.prototype.emit=function(e,t){var a,n,o=this.events[e],l=Array.prototype.slice.call(arguments,1);if(o)for(a=0,n=o.length;a<n;a++)o[a].apply(t,l)},this.event=new e,this.event}function Xe(){var e=this;D["e"]("body").on("keydown",function(){console.log("d3.event",D["c"]),D["c"].ctrlKey&&"c"==D["c"].key&&console.log("copy")}).on("keyup",function(){if(D["c"].ctrlKey&&"c"==D["c"].key&&(console.log("copy2"),e.cur_select_node?e.cur_copy_node_id=e.cur_select_node.data()[0]:console.log("not node selected")),D["c"].ctrlKey&&"v"==D["c"].key)if(console.log("paste"),e.cur_copy_node_id){var t=e.g.node(e.cur_copy_node_id);e.addNodeByObj({name:t.label,schema:t.properties.schema}),e.updateGraph()}else console.log("not node selected");if(D["c"].ctrlKey&&"d"==D["c"].key){var a=e.cur_select_node.data()[0];e.g.removeNode(a),e.updateGraph()}})}K.prototype.setFramework=Q,K.prototype.formatCoords=ee,K.prototype.addNode=te,K.prototype.addEdge=ae,K.prototype.createConnection=ne,K.prototype.removeEdge=oe,K.prototype.initGroups=le,K.prototype.initGraphFromData=ie,K.prototype.initGraphFromGraph=se,K.prototype.initAll=de,K.prototype.updateSVGNodes=re,K.prototype.updateSVGAnchors=ue,K.prototype.updateSvgClusters=pe,K.prototype.updateGraph=ce,K.prototype.drawGraph=_e,K.prototype.getDraggableConfig=he,K.prototype.setNodeDraggableById=ge,K.prototype.setNodesDraggable=fe,K.prototype.setNodeMenuEvent=ye,K.prototype.setNodeSelectEvent=me,K.prototype.visibleAllNodes=ve,K.prototype.visiblePreNodes=be,K.prototype.getPreNodesEdges=xe,K.prototype.getPreNodes=ke,K.prototype.getSuccNodesEdges=we,K.prototype.getSuccNodes=Ce,K.prototype.onNodeSelect=Re,K.prototype.setEdgeEvent=Be,K.prototype.setAchorsdragable=Te,K.prototype.setAnchorsEvent=Ne,K.prototype.setClustersDraggable=Pe,K.prototype.setGroupEvent=Le,K.prototype.addNodeToGroup=Ie,K.prototype.removeNodeFormGroup=Se,K.prototype.groupMove=ze,K.prototype.collapseGroup=Me,K.prototype.setZoom=Fe,K.prototype.setMiniMap=Ge,K.prototype.onContextMenu=Ae,K.prototype.ListerningGraphClick=Ee,K.prototype.setSearchBoxVisible=Oe,K.prototype.serialize=De,K.prototype.loadGraph=je,K.prototype.clear=Ue,K.prototype.updateNodeParams=Ve,K.prototype.updateNode=$e,K.prototype.addNodeByObj=qe,K.prototype.getNodeParamsById=He,K.prototype.CreateEventListerner=We,K.prototype.keyBinding=Xe;var Je={__version__:"0.1.2",__date__:"2019-05-21T18:39:44.168Z",graph:{options:{directed:!0,multigraph:!1,compound:!0},nodes:[{v:"ResNet18_0",value:{svgId:"node0",label:"ResNet18",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"torchvison.models"}},x:321.515625,y:122.0234375,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"ResNet18_0",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Input_1",value:{svgId:"node1",label:"Input",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"Graph.Global.Input"}},x:321.515625,y:16.5078125,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Input_1",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Output_2",value:{svgId:"node2",label:"Output",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"Graph.Global.Output"}},x:290.53125,y:815.6328125,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Output_2",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Conv2dBnRelu_3",value:{svgId:"node3",label:"Conv2dBnRelu",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ModelBlock"}},x:321.515625,y:227.5390625,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Conv2dBnRelu_3",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Conv2dBnRelu_4",value:{svgId:"node4",label:"Conv2dBnRelu",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ModelBlock"}},x:321.515625,y:333.0546875,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Conv2dBnRelu_4",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Conv2dBnRelu_6",value:{svgId:"node6",label:"Conv2dBnRelu",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ModelBlock"}},x:534.09375,y:333.0546875,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Conv2dBnRelu_6",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Conv2dBnRelu_7",value:{svgId:"node7",label:"Conv2dBnRelu",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ModelBlock"}},x:321.515625,y:544.0859375,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Conv2dBnRelu_7",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Conv2dBnRelu_8",value:{svgId:"node8",label:"Conv2dBnRelu",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ModelBlock"}},x:534.09375,y:544.0859375,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Conv2dBnRelu_8",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"ConcatLayer_9",value:{svgId:"node9",label:"ConcatLayer",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ConcatLayer"}},x:427.8046875,y:649.6015625,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"ConcatLayer_9",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Conv2dBnRelu_10",value:{svgId:"node10",label:"Conv2dBnRelu",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ModelBlock"}},x:46.96875,y:438.5703125,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Conv2dBnRelu_10",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Conv2dBnRelu_11",value:{svgId:"node11",label:"Conv2dBnRelu",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"ModelBlock"}},x:321.515625,y:438.5703125,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Conv2dBnRelu_11",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"Sigmoid_12",value:{svgId:"node12",label:"Sigmoid",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{category:"Activation",package:"torch.nn.modules.activation"}},x:46.96875,y:649.6015625,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"Sigmoid_12",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"MaxPool2d_13",value:{svgId:"node13",label:"MaxPool2d",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{attributes:[{default:0,name:"padding"},{default:1,name:"dilation"},{default:!1,name:"return_indices"},{name:"ceil_mode",visible:!1}],category:"Pool",package:"torch.nn.modules.pooling"}},x:534.09375,y:438.5703125,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"MaxPool2d_13",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"AvgPool2d_14",value:{svgId:"node14",label:"AvgPool2d",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{attributes:[{default:0,name:"padding"},{default:!0,name:"count_include_pad"},{name:"ceil_mode",visible:!1}],category:"Pool",package:"torch.nn.modules.pooling"}},x:46.96875,y:544.0859375,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"AvgPool2d_14",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}},{v:"MulLayer_15",value:{svgId:"node15",label:"MulLayer",labelType:"text",properties:{anchors:[{id:0,type:"input"},{id:1,type:"output"}],schema:{package:"MulLayer"}},x:290.53125,y:732.6171875,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect",dagre_to_x:0,dagre_to_y:0,group_width:0,group_height:0,elem:{__data__:"MulLayer_15",__on:[{type:"mousedown",name:"drag",capture:!1},{type:"contextmenu",name:"",capture:!1},{type:"click",name:"",capture:!1},{type:"dblclick",name:"",capture:!1},{type:"mouseover",name:"",capture:!1},{type:"mouseout",name:"",capture:!1}]}}}],edges:[{v:"Input_1",w:"ResNet18_0",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Input_1 to ResNet18_0",labelType:"text",lineInterpolate:"basis",class:"",id:"arc0",labelId:"arc0-label",points:[{x:321.515625,y:33.015625},{x:321.515625,y:69.265625},{x:321.515625,y:105.515625}],elem:{__data__:{v:"Input_1",w:"ResNet18_0"}},arrowheadId:"arrowhead656",width:111.890625,height:12.5,x:382.4609375,y:69.265625}},{v:"ResNet18_0",w:"Conv2dBnRelu_3",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"ResNet18_0 to Conv2dBnRelu_3",labelType:"text",lineInterpolate:"basis",class:"",id:"arc2",labelId:"arc2-label",points:[{x:321.515625,y:138.53125},{x:321.515625,y:174.78125},{x:321.515625,y:211.03125}],elem:{__data__:{v:"ResNet18_0",w:"Conv2dBnRelu_3"}},arrowheadId:"arrowhead657",width:160.796875,height:12.5,x:406.9140625,y:174.78125}},{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_4",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_3 to Conv2dBnRelu_4",labelType:"text",lineInterpolate:"basis",class:"",id:"arc4",labelId:"arc4-label",points:[{x:321.515625,y:244.046875},{x:321.515625,y:280.296875},{x:321.515625,y:316.546875}],elem:{__data__:{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_4"}},arrowheadId:"arrowhead658",width:186.46875,height:12.5,x:419.75,y:280.296875}},{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_6",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_3 to Conv2dBnRelu_6",labelType:"text",lineInterpolate:"basis",class:"",id:"arc6",labelId:"arc6-label",points:[{x:368.484375,y:239.1958051957001},{x:534.09375,y:280.296875},{x:534.09375,y:316.546875}],elem:{__data__:{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_6"}},arrowheadId:"arrowhead659",width:186.46875,height:12.5,x:632.328125,y:280.296875}},{v:"Conv2dBnRelu_7",w:"ConcatLayer_9",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_7 to ConcatLayer_9",labelType:"text",lineInterpolate:"basis",class:"",id:"arc9",labelId:"arc9-label",points:[{x:321.515625,y:560.59375},{x:321.515625,y:596.84375},{x:394.5470554753443,y:633.09375}],elem:{__data__:{v:"Conv2dBnRelu_7",w:"ConcatLayer_9"}},arrowheadId:"arrowhead660",width:175.46875,height:12.5,x:414.25,y:596.84375}},{v:"Conv2dBnRelu_8",w:"ConcatLayer_9",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_8 to ConcatLayer_9",labelType:"text",lineInterpolate:"basis",class:"",id:"arc10",labelId:"arc10-label",points:[{x:534.09375,y:560.59375},{x:534.09375,y:596.84375},{x:461.0623195246557,y:633.09375}],elem:{__data__:{v:"Conv2dBnRelu_8",w:"ConcatLayer_9"}},arrowheadId:"arrowhead661",width:175.46875,height:12.5,x:626.828125,y:596.84375}},{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_10",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_3 to Conv2dBnRelu_10",labelType:"text",lineInterpolate:"basis",class:"",id:"arc12",labelId:"arc12-label",points:[{x:274.546875,y:236.56472890344887},{x:46.96875,y:280.296875},{x:46.96875,y:333.0546875},{x:46.96875,y:385.8125},{x:46.96875,y:422.0625}],elem:{__data__:{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_10"}},arrowheadId:"arrowhead662",width:192.578125,height:12.5,x:148.2578125,y:333.0546875}},{v:"Conv2dBnRelu_10",w:"AvgPool2d_14",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_10 to AvgPool2d_14",labelType:"text",lineInterpolate:"basis",class:"",id:"arc16",labelId:"arc16-label",points:[{x:46.96875,y:455.078125},{x:46.96875,y:491.328125},{x:46.96875,y:527.578125}],elem:{__data__:{v:"Conv2dBnRelu_10",w:"AvgPool2d_14"}},arrowheadId:"arrowhead663",width:178.3125,height:12.5,x:141.125,y:491.328125}},{v:"AvgPool2d_14",w:"Sigmoid_12",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"AvgPool2d_14 to Sigmoid_12",labelType:"text",lineInterpolate:"basis",class:"",id:"arc17",labelId:"arc17-label",points:[{x:46.96875,y:560.59375},{x:46.96875,y:596.84375},{x:46.96875,y:633.09375}],elem:{__data__:{v:"AvgPool2d_14",w:"Sigmoid_12"}},arrowheadId:"arrowhead664",width:144.265625,height:12.5,x:124.1015625,y:596.84375}},{v:"Conv2dBnRelu_6",w:"MaxPool2d_13",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_6 to MaxPool2d_13",labelType:"text",lineInterpolate:"basis",class:"",id:"arc18",labelId:"arc18-label",points:[{x:534.09375,y:349.5625},{x:534.09375,y:385.8125},{x:534.09375,y:422.0625}],elem:{__data__:{v:"Conv2dBnRelu_6",w:"MaxPool2d_13"}},arrowheadId:"arrowhead665",width:173.609375,height:12.5,x:625.8984375,y:385.8125}},{v:"MaxPool2d_13",w:"Conv2dBnRelu_8",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"MaxPool2d_13 to Conv2dBnRelu_8",labelType:"text",lineInterpolate:"basis",class:"",id:"arc19",labelId:"arc19-label",points:[{x:534.09375,y:455.078125},{x:534.09375,y:491.328125},{x:534.09375,y:527.578125}],elem:{__data__:{v:"MaxPool2d_13",w:"Conv2dBnRelu_8"}},arrowheadId:"arrowhead666",width:173.609375,height:12.5,x:625.8984375,y:491.328125}},{v:"Conv2dBnRelu_4",w:"Conv2dBnRelu_11",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_4 to Conv2dBnRelu_11",labelType:"text",lineInterpolate:"basis",class:"",id:"arc20",labelId:"arc20-label",points:[{x:321.515625,y:349.5625},{x:321.515625,y:385.8125},{x:321.515625,y:422.0625}],elem:{__data__:{v:"Conv2dBnRelu_4",w:"Conv2dBnRelu_11"}},arrowheadId:"arrowhead667",width:192.578125,height:12.5,x:422.8046875,y:385.8125}},{v:"Conv2dBnRelu_11",w:"Conv2dBnRelu_7",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Conv2dBnRelu_11 to Conv2dBnRelu_7",labelType:"text",lineInterpolate:"basis",class:"",id:"arc21",labelId:"arc21-label",points:[{x:321.515625,y:455.078125},{x:321.515625,y:491.328125},{x:321.515625,y:527.578125}],elem:{__data__:{v:"Conv2dBnRelu_11",w:"Conv2dBnRelu_7"}},arrowheadId:"arrowhead668",width:192.578125,height:12.5,x:422.8046875,y:491.328125}},{v:"Sigmoid_12",w:"MulLayer_15",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"Sigmoid_12 to MulLayer_15",labelType:"text",lineInterpolate:"basis",class:"",id:"arc23",labelId:"arc23-label",points:[{x:46.96875,y:666.109375},{x:46.96875,y:691.109375},{x:257.9296875,y:727.0612437752599}],elem:{__data__:{v:"Sigmoid_12",w:"MulLayer_15"}},arrowheadId:"arrowhead669"}},{v:"ConcatLayer_9",w:"MulLayer_15",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"ConcatLayer_9 to MulLayer_15",labelType:"text",lineInterpolate:"basis",class:"",id:"arc24",labelId:"arc24-label",points:[{x:427.8046875,y:666.109375},{x:427.8046875,y:691.109375},{x:323.1328125,y:722.7593477889704}],elem:{__data__:{v:"ConcatLayer_9",w:"MulLayer_15"}},arrowheadId:"arrowhead670"}},{v:"MulLayer_15",w:"Output_2",value:{arrowhead:"hollowPoint",arrowheadClass:"arrowhead",label:"MulLayer_15 to Output_2",labelType:"text",lineInterpolate:"basis",class:"",id:"arc25",labelId:"arc25-label",points:[{x:290.53125,y:749.125},{x:290.53125,y:774.125},{x:290.53125,y:799.125}],elem:{__data__:{v:"MulLayer_15",w:"Output_2"}},arrowheadId:"arrowhead671"}}],value:{width:720.5625,height:832.140625}},params:{ResNet18_0:{pretrained:{type:["bool"],default:"False",value:"False"},progress:{type:["bool"],default:"True",value:"True"}},Conv2dBnRelu_3:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},Conv2dBnRelu_4:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},Conv1dBnRelu_5:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},Conv2dBnRelu_6:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},Conv2dBnRelu_7:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},Conv2dBnRelu_8:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},ConcatLayer_9:{dim:{type:["int"],default:1,value:1}},Conv2dBnRelu_10:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},Conv2dBnRelu_11:{in_channels:{type:["int"],default:null,value:null},out_channels:{type:["int"],default:null,value:null},kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:1,value:1},padding:{type:["int","tuple"],default:0,value:0},dilation:{type:["int","tuple"],default:1,value:1},groups:{type:["int"],default:1,value:1},bias:{type:["bool"],default:"True",value:"True"},padding_mode:{type:["str"],default:"zeros",value:"zeros"}},Sigmoid_12:{},MaxPool2d_13:{kernel_size:{type:["int"],default:null,value:null},stride:{type:["int"],default:null,value:null},padding:{type:["int"],default:0,value:0},dilation:{type:["int"],default:1,value:1},return_indices:{type:["bool"],default:"False",value:"False"},ceil_mode:{type:["bool"],default:"False",value:"False"}},AvgPool2d_14:{kernel_size:{type:["int","tuple"],default:null,value:null},stride:{type:["int","tuple"],default:null,value:null},padding:{type:["int","tuple"],default:0,value:0},ceil_mode:{type:["bool"],default:"False",value:"False"},count_include_pad:{type:["bool"],default:"False",value:"False"}},MulLayer_15:{}},order:[{opt:"Input_1",inputs:[],outputs:["ResNet18_0"],coords:[321.515625,16.5078125]},{opt:"ResNet18_0",inputs:["Input_1"],outputs:["Conv2dBnRelu_3"],coords:[321.515625,122.0234375]},{opt:"Conv2dBnRelu_3",inputs:["ResNet18_0"],outputs:["Conv2dBnRelu_4","Conv2dBnRelu_6","Conv2dBnRelu_10"],coords:[321.515625,227.5390625]},{opt:"Conv2dBnRelu_4",inputs:["Conv2dBnRelu_3"],outputs:["Conv2dBnRelu_11"],coords:[321.515625,333.0546875]},{opt:"Conv2dBnRelu_6",inputs:["Conv2dBnRelu_3"],outputs:["MaxPool2d_13"],coords:[534.09375,333.0546875]},{opt:"Conv2dBnRelu_10",inputs:["Conv2dBnRelu_3"],outputs:["AvgPool2d_14"],coords:[46.96875,438.5703125]},{opt:"Conv2dBnRelu_11",inputs:["Conv2dBnRelu_4"],outputs:["Conv2dBnRelu_7"],coords:[321.515625,438.5703125]},{opt:"MaxPool2d_13",inputs:["Conv2dBnRelu_6"],outputs:["Conv2dBnRelu_8"],coords:[534.09375,438.5703125]},{opt:"Conv2dBnRelu_7",inputs:["Conv2dBnRelu_11"],outputs:["ConcatLayer_9"],coords:[321.515625,544.0859375]},{opt:"Conv2dBnRelu_8",inputs:["MaxPool2d_13"],outputs:["ConcatLayer_9"],coords:[534.09375,544.0859375]},{opt:"AvgPool2d_14",inputs:["Conv2dBnRelu_10"],outputs:["Sigmoid_12"],coords:[46.96875,544.0859375]},{opt:"ConcatLayer_9",inputs:["Conv2dBnRelu_7","Conv2dBnRelu_8"],outputs:["MulLayer_15"],coords:[427.8046875,649.6015625]},{opt:"Sigmoid_12",inputs:["AvgPool2d_14"],outputs:["MulLayer_15"],coords:[46.96875,649.6015625]},{opt:"MulLayer_15",inputs:["Sigmoid_12","ConcatLayer_9"],outputs:["Output_2"],coords:[290.53125,732.6171875]},{opt:"Output_2",inputs:["MulLayer_15"],outputs:[],coords:[290.53125,815.6328125]}],edges:[{v:"Input_1",w:"ResNet18_0"},{v:"ResNet18_0",w:"Conv2dBnRelu_3"},{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_4"},{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_6"},{v:"Conv2dBnRelu_7",w:"ConcatLayer_9"},{v:"Conv2dBnRelu_8",w:"ConcatLayer_9"},{v:"Conv2dBnRelu_3",w:"Conv2dBnRelu_10"},{v:"Conv2dBnRelu_10",w:"AvgPool2d_14"},{v:"AvgPool2d_14",w:"Sigmoid_12"},{v:"Conv2dBnRelu_6",w:"MaxPool2d_13"},{v:"MaxPool2d_13",w:"Conv2dBnRelu_8"},{v:"Conv2dBnRelu_4",w:"Conv2dBnRelu_11"},{v:"Conv2dBnRelu_11",w:"Conv2dBnRelu_7"},{v:"Sigmoid_12",w:"MulLayer_15"},{v:"ConcatLayer_9",w:"MulLayer_15"},{v:"MulLayer_15",w:"Output_2"}],last_node_id:15,last_edge_id:25,global_inputs:["Input_1"],global_outputs:["Output_2"]},Ye={cur_framework:"PyTorch",mini_scale:.1,max_scale:3,global_input_node_opt:["Input","Tensor"],global_output_node_opt:["Output"],connection_class:"",edge_stroke:"black",edge_stroke_width:"1.5",edge_highlight_stroke:"#69b3b2",edge_highlight_stroke_width:"4",SearchBoxId:"#SearchBox",input_node_style:'"fill: #f77"',output_node_style:'"fill: #f77"'},Ze=[{name:"Input",schema:{package:"Graph.Global.Input"}},{name:"Output",schema:{package:"Graph.Global.Output"}},{name:"Label",schema:{package:"Graph.Global.Label"}},{name:"Tensor",schema:{package:"Graph.Global.Tensor"}}],Ke=[{name:"Conv1d",schema:{attributes:[{name:"output_padding",visible:!1},{name:"in_channels",visible:!1},{name:"out_channels",visible:!1},{default:1,name:"groups"},{default:!1,name:"transposed"},{default:[0],name:"padding"},{default:[1],name:"dilation"},{default:[1],name:"stride"},{default:!0,name:"bias"}],category:"Layer",package:"torch.nn.modules.conv"}},{name:"ConvTranspose1d",schema:{attributes:[{name:"output_padding",visible:!1},{name:"in_channels",visible:!1},{name:"out_channels",visible:!1},{default:1,name:"groups"},{default:!0,name:"transposed"},{default:[0],name:"padding"},{default:[1],name:"dilation"},{default:[1],name:"stride"},{default:!0,name:"bias"}],category:"Layer",package:"torch.nn.modules.conv"}},{name:"Conv2d",schema:{attributes:[{name:"output_padding",visible:!1},{name:"in_channels",visible:!1},{name:"out_channels",visible:!1},{default:1,name:"groups"},{default:!1,name:"transposed"},{default:[0,0],name:"padding"},{default:[1,1],name:"dilation"},{default:[1,1],name:"stride"},{default:!0,name:"bias"}],category:"Layer",package:"torch.nn.modules.conv"}},{name:"ConvTranspose2d",schema:{attributes:[{name:"output_padding",visible:!1},{name:"in_channels",visible:!1},{name:"out_channels",visible:!1},{default:1,name:"groups"},{default:!0,name:"transposed"},{default:[0,0],name:"padding"},{default:[1,1],name:"dilation"},{default:[1,1],name:"stride"},{default:!0,name:"bias"}],category:"Layer",package:"torch.nn.modules.conv"}},{name:"Conv3d",schema:{category:"Layer",package:"torch.nn.modules.conv"}},{name:"ConvTranspose3d",schema:{category:"Layer",package:"torch.nn.modules.conv"}},{name:"Linear",schema:{attributes:[{default:!0,name:"bias"}],category:"Layer",package:"torch.nn.modules.linear"}},{name:"Sigmoid",schema:{category:"Activation",package:"torch.nn.modules.activation"}},{name:"Softmax",schema:{category:"Activation",package:"torch.nn.modules.activation"}},{name:"Tanh",schema:{category:"Activation",package:"torch.nn.modules.activation"}},{name:"LogSoftmax",schema:{category:"Activation",package:"torch.nn.modules.activation"}},{name:"ReLU",schema:{attributes:[{default:!1,name:"inplace",visible:!1},{default:0,name:"threshold"},{default:0,name:"value"}],category:"Activation",package:"torch.nn.modules.activation"}},{name:"ReLU6",schema:{category:"Activation",package:"torch.nn.modules.activation"}},{name:"PReLU",schema:{attributes:[],category:"Activation",package:"torch.nn.modules.activation"}},{name:"ELU",schema:{attributes:[],category:"Activation",package:"torch.nn.modules.activation"}},{name:"Hardtanh",schema:{attributes:[],category:"Activation",package:"torch.nn.modules.activation"}},{name:"LeakyReLU",schema:{attributes:[],category:"Activation",package:"torch.nn.modules.activation"}},{name:"MaxPool1d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"MaxPool2d",schema:{attributes:[{default:0,name:"padding"},{default:1,name:"dilation"},{default:!1,name:"return_indices"},{name:"ceil_mode",visible:!1}],category:"Pool",package:"torch.nn.modules.pooling"}},{name:"MaxPool3d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"MaxUnpool1d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"MaxUnpool2d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"MaxUnpool3d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AvgPool2d",schema:{attributes:[{default:0,name:"padding"},{default:!0,name:"count_include_pad"},{name:"ceil_mode",visible:!1}],category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AvgPool3d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AdaptiveAvgPool1d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AdaptiveAvgPool2d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AdaptiveAvgPool3d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AdaptiveMaxPool1d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AdaptiveMaxPool2d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"AdaptiveMaxPool3d",schema:{category:"Pool",package:"torch.nn.modules.pooling"}},{name:"BatchNorm1d",schema:{attributes:[],category:"Normalization",package:"torch.nn.modules.batchnorm"}},{name:"BatchNorm2d",schema:{attributes:[{default:1e-5,name:"eps"},{default:.1,name:"momentum"},{default:!0,name:"affine"},{default:!0,name:"track_running_stats"}],category:"Normalization",inputs:[{name:"input"},{name:"weight"},{name:"bias"},{name:"running_mean"},{name:"running_var"},{name:"num_batches_tracked"}],package:"torch.nn.modules.batchnorm"}},{name:"GroupNorm",schema:{category:"Normalization",package:"torch.nn.modules.normalization"}},{name:"LayerNorm",schema:{category:"Normalization",package:"torch.nn.modules.normalization"}},{name:"Dropout2d",schema:{attributes:[{default:!1,name:"inplace",visible:!1},{default:.5,name:"p"}],category:"Dropout",package:"torch.nn.modules.dropout"}},{name:"Dropout",schema:{attributes:[{default:!1,name:"inplace",visible:!1},{default:.5,name:"p"}],category:"Dropout",package:"torch.nn.modules.dropout"}},{name:"GRU",schema:{category:"Layer",package:"torch.nn.modules.rnn"}},{name:"GRUCell",schema:{category:"Layer",package:"torch.nn.modules.rnn"}},{name:"LSTM",schema:{attributes:[{default:0,name:"dropout"},{default:{},name:"dropout_state"},{default:1,name:"num_layers"},{name:"batch_first",visible:!1},{name:"bidirectional",visible:!1},{name:"bias",visible:!1}],category:"Layer",inputs:[{name:"input"},{name:"weight_ih_l0",visible:!1},{name:"weight_hh_l0",visible:!1},{name:"bias_ih_l0",visible:!1},{name:"bias_hh_l0",visible:!1},{name:"weight_ih_l1",visible:!1},{name:"weight_hh_l1",visible:!1},{name:"bias_ih_l1",visible:!1},{name:"bias_hh_l1",visible:!1}],package:"torch.nn.modules.rnn"}},{name:"LSTMCell",schema:{category:"Layer",package:"torch.nn.modules.rnn"}},{name:"RNN",schema:{category:"Layer",package:"torch.nn.modules.rnn"}},{name:"Embedding",schema:{attributes:[{default:2,name:"norm_type"},{default:!1,name:"scale_grad_by_freq"},{default:!1,name:"sparse"},{default:null,name:"max_norm"},{default:null,name:"padding_idx"}],category:"Transform",package:"torch.nn.modules.sparse"}},{name:"ReflectionPad1d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ReflectionPad2d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ReplicationPad1d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ReplicationPad2d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ReplicationPad3d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ZeroPad2d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ConstantPad1d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ConstantPad2d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"ConstantPad3d",schema:{category:"Tensor",package:"torch.nn.modules.padding"}},{name:"PixelShuffle",schema:{package:"torch.nn.modules.pixelshuffle"}},{name:"InstanceNorm1d",schema:{package:"torch.nn.modules.instancenorm"}},{name:"InstanceNorm2d",schema:{package:"torch.nn.modules.instancenorm"}},{name:"InstanceNorm3d",schema:{package:"torch.nn.modules.instancenorm"}}],Qe=[{name:"ResNet50",schema:{package:"torchvision.models"}},{name:"ResNet101",schema:{package:"torchvision.models"}},{name:"VGG16",schema:{package:"torchvision.models"}},{name:"AlexNet",schema:{package:"torchvison.models"}},{name:"VGG11",schema:{package:"torchvison.models"}},{name:"VGG13",schema:{package:"torchvison.models"}},{name:"VGG16",schema:{package:"torchvison.models"}},{name:"VGG19",schema:{package:"torchvison.models"}},{name:"VGG11_Bn",schema:{package:"torchvison.models"}},{name:"VGG13_Bn",schema:{package:"torchvison.models"}},{name:"VGG16_Bn",schema:{package:"torchvison.models"}},{name:"VGG19_Bn",schema:{package:"torchvison.models"}},{name:"ResNet18",schema:{package:"torchvison.models"}},{name:"ResNet34",schema:{package:"torchvison.models"}},{name:"ResNet50",schema:{package:"torchvison.models"}},{name:"ResNet101",schema:{package:"torchvison.models"}},{name:"ResNet152",schema:{package:"torchvison.models"}},{name:"SqueezeNet1_0",schema:{package:"torchvison.models"}},{name:"SqueezeNet1_1",schema:{package:"torchvison.models"}},{name:"Densenet121",schema:{package:"torchvison.models"}},{name:"Densenet169",schema:{package:"torchvison.models"}},{name:"Densenet201",schema:{package:"torchvison.models"}},{name:"Densenet161",schema:{package:"torchvison.models"}},{name:"Inception_V3",schema:{package:"torchvison.models"}},{name:"GoogleNet",schema:{package:"torchvison.models"}},{name:"ShuffleNet-V2",schema:{package:"torchvison.models"}}],et=[{name:"Conv1dBnRelu",schema:{package:"ModelBlock"}},{name:"Conv2dBnRelu",schema:{package:"ModelBlock"}},{name:"Conv3dBnRelu",schema:{package:"ModelBlock"}},{name:"ConcatLayer",schema:{package:"ConcatLayer"}},{name:"SumLayer",schema:{package:"SumLayer"}},{name:"ViewLayer",schema:{package:"ViewLayer"}},{name:"MulLayer",schema:{package:"MulLayer"}}],tt=[];tt.push.apply(tt,et),tt.push.apply(tt,Qe),tt.push.apply(tt,Ze),tt.push.apply(tt,Ke);var at={Conv1d:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},padding_mode:{type:["str"],default:"zeros"}},Conv2d:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},padding_mode:{type:["str"],default:"zeros"}},Conv3d:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},padding_mode:{type:["str"],default:"zeros"}},ConvTranspose1d:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},output_padding:{type:["int","tuple"],default:0},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},dilation:{type:["int","tuple"],default:1},padding_mode:{type:["str"],default:"zeros"}},ConvTranspose2d:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},output_padding:{type:["int","tuple"],default:0},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},dilation:{type:["int","tuple"],default:1},padding_mode:{type:["str"],default:"zeros"}},ConvTranspose3d:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},output_padding:{type:["int","tuple"],default:0},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},dilation:{type:["int","tuple"],default:1},padding_mode:{type:["str"],default:"zeros"}},Unfold:{kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1}},Fold:{output_size:{type:["int","tuple"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1}},MaxPool1d:{kernel_size:{type:["int"],default:null},stride:{type:["int"],default:null},padding:{type:["int"],default:0},dilation:{type:["int"],default:1},return_indices:{type:["bool"],default:"False"},ceil_mode:{type:["bool"],default:"False"}},MaxPool2d:{kernel_size:{type:["int"],default:null},stride:{type:["int"],default:null},padding:{type:["int"],default:0},dilation:{type:["int"],default:1},return_indices:{type:["bool"],default:"False"},ceil_mode:{type:["bool"],default:"False"}},MaxPool3d:{kernel_size:{type:["int"],default:null},stride:{type:["int"],default:null},padding:{type:["int"],default:0},dilation:{type:["int"],default:1},return_indices:{type:["bool"],default:"False"},ceil_mode:{type:["bool"],default:"False"}},MaxUnpool1d:{kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:null},padding:{type:["int","tuple"],default:0}},MaxUnpool2d:{kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:null},padding:{type:["int","tuple"],default:0}},MaxUnpool3d:{kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:null},padding:{type:["int","tuple"],default:0}},AvgPool1d:{kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:null},padding:{type:["int","tuple"],default:0},ceil_mode:{type:["bool"],default:"False"},count_include_pad:{type:["bool"],default:"False"}},AvgPool2d:{kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:null},padding:{type:["int","tuple"],default:0},ceil_mode:{type:["bool"],default:"False"},count_include_pad:{type:["bool"],default:"False"}},AvgPool3d:{kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:null},padding:{type:["int","tuple"],default:0},ceil_mode:{type:["bool"],default:"False"},count_include_pad:{type:["bool"],default:"False"}},FractionalMaxPool2d:{kernel_size:{type:["int","tuple"],default:null},output_size:{type:["int","tuple"],default:null},output_ratio:{type:["float"],default:null},return_indices:{type:["bool"],default:"False"}},LPPool1d:{norm_type:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int"],default:null},ceil_mode:{type:["bool"],default:"False"}},LPPool2d:{norm_type:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int"],default:null},ceil_mode:{type:["bool"],default:"False"}},AdaptiveMaxPool1d:{output_size:{type:["int"],default:null},return_indices:{type:["bool"],default:"False"}},AdaptiveMaxPool2d:{output_size:{type:["int"],default:null},return_indices:{type:["bool"],default:"False"}},AdaptiveMaxPool3d:{output_size:{type:["int"],default:null},return_indices:{type:["bool"],default:"False"}},AdaptiveAvgPool1d:{output_size:{type:["int"],default:null}},AdaptiveAvgPool2d:{output_size:{type:["int"],default:null}},AdaptiveAvgPool3d:{output_size:{type:["int"],default:null}},ReflectionPad1d:{padding:{type:["int","Tuple"],default:null}},ReflectionPad2d:{padding:{type:["int","Tuple"],default:null}},ReplicationPad1d:{padding:{type:["int","Tuple"],default:null}},ReplicationPad2d:{padding:{type:["int","Tuple"],default:null}},ReplicationPad3d:{padding:{type:["int","Tuple"],default:null}},ZeroPad2d:{padding:{type:["int","Tuple"],default:null}},ConstantPad1d:{padding:{type:["int","Tuple"],default:null},value:{type:["float"],default:null}},ConstantPad2d:{padding:{type:["int","Tuple"],default:null},value:{type:["float"],default:null}},ConstantPad3d:{padding:{type:["int","Tuple"],default:null},value:{type:["float"],default:null}},ELU:{alpha:{type:["int"],default:1},inplace:{type:["bool"],default:"False"}},Hardshrink:{lambd:{type:["float"],default:.5}},Hardtanh:{min_val:{type:["int"],default:-1},max_val:{type:["int"],default:1},inplace:{type:["bool"],default:"False"}},LeakyReLU:{negative_slope:{type:["float"],default:.01},inplace:{type:["bool"],default:"False"}},LogSigmoid:{},MultiheadAttention:{embed_dim:{type:["int"]},num_heads:{type:["int"]},dropout:{type:["float"],default:0},bias:{type:["bool"],default:"True"},add_bias_kv:{type:["bool"],default:"False"},add_zero_attn:{type:["bool"],default:"False"}},PReLU:{num_parameters:{type:["int"],default:1},init:{type:["float"],default:.25}},ReLU:{inplace:{type:["bool"],default:"False"}},ReLU6:{inplace:{type:["bool"],default:"False"}},RReLU:{lower:{type:["float"],default:.125},upper:{type:["float"],default:.3333333333333333},inplace:{type:["bool"],default:"False"}},SELU:{inplace:{type:["bool"],default:"False"}},CELU:{alpha:{type:["float"],default:1},inplace:{type:["bool"],default:"False"}},Sigmoid:{},Softplus:{beta:{type:["float"],default:1},threshold:{type:["int"],default:20}},Softshrink:{lambd:{type:["float"],default:.5}},Softsign:{},Tanh:{},Tanhshrink:{},Threshold:{threshold:{type:["float"],default:.1},value:{type:["float"],default:20},inplace:{type:["bool"],default:"False"}},Softmin:{dim:{type:["int"],default:null}},Softmax:{dim:{type:["int"],default:null}},Softmax2d:{},LogSoftmax:{dim:{type:["int"],default:null}},AdaptiveLogSoftmaxWithLoss:{in_features:{type:["int"],default:null},n_classes:{type:["int"],default:null},cutoffs:{type:["Sequence"],default:null},div_value:{type:["float"],default:4},head_bias:{type:["bool"],default:"False"}},log_prob:{},predict:{},BatchNorm1d:{num_features:{type:["int"],default:null},eps:{type:["float"],default:1e-5},momentum:{type:["float"],default:.1},affine:{type:["bool"],default:"True"},track_running_stats:{type:["bool"],default:"True"}},BatchNorm2d:{num_features:{type:["int"],default:null},eps:{type:["float"],default:1e-5},momentum:{type:["float"],default:.1},affine:{type:["bool"],default:"True"},track_running_stats:{type:["bool"],default:"True"}},BatchNorm3d:{num_features:{type:["int"],default:null},eps:{type:["float"],default:1e-5},momentum:{type:["float"],default:.1},affine:{type:["bool"],default:"True"},track_running_stats:{type:["bool"],default:"True"}},GroupNorm:{num_groups:{type:["int"],default:null},num_channels:{type:["int"],default:null},eps:{type:["float"],default:1e-5},affine:{type:["bool"],default:"True"}},SyncBatchNorm:{num_features:{type:["int"],default:null},eps:{type:["float"],default:1e-5},momentum:{type:["float"],default:.1},affine:{type:["bool"],default:"True"},track_running_stats:{type:["bool"],default:"True"},process_group:{type:["obj"],default:"torch.distributed.new_group(process_ids)"}},InstanceNorm1d:{num_features:{type:["int"],default:null},eps:{type:["float"],default:1e-5},momentum:{type:["float"],default:.1},affine:{type:["bool"],default:"False"},track_running_stats:{type:["bool"],default:"False"}},InstanceNorm2d:{num_features:{type:["int"],default:null},eps:{type:["float"],default:1e-5},momentum:{type:["float"],default:.1},affine:{type:["bool"],default:"False"},track_running_stats:{type:["bool"],default:"False"}},InstanceNorm3d:{num_features:{type:["int"],default:null},eps:{type:["float"],default:1e-5},momentum:{type:["float"],default:.1},affine:{type:["bool"],default:"False"},track_running_stats:{type:["bool"],default:"False"}},LayerNorm:{normalized_shape:{type:["int"],default:null},eps:{type:["float"],default:1e-5},elementwise_affine:{type:["bool"],default:"True"}},LocalResponseNorm:{size:{type:["int"],default:null},alpha:{type:["float"],default:1e-4},beta:{type:["float"],default:.75},k:{type:["float"],default:1}},RNN:{input_size:{type:["int"],default:null},hidden_size:{type:["int"],default:null},num_layers:{type:["int"],default:null},nonlinearity:{type:["obj"],default:"tanh"},bias:{type:["bool"],default:"True"},batch_first:{type:["bool"],default:"False"},dropout:{type:["float"],default:0},bidirectional:{type:["bool"],default:"False"}},LSTM:{input_size:{type:["int"],default:null},hidden_size:{type:["int"],default:null},num_layers:{type:["int"],default:null},bias:{type:["bool"],default:"True"},batch_first:{type:["bool"],default:"False"},dropout:{type:["float"],default:0},bidirectional:{type:["bool"],default:"False"}},GRU:{input_size:{type:["int"],default:null},hidden_size:{type:["int"],default:null},num_layers:{type:["int"],default:null},bias:{type:["bool"],default:"True"},batch_first:{type:["bool"],default:"False"},dropout:{type:["float"],default:0},bidirectional:{type:["bool"],default:"False"}},RNNCell:{input_size:{type:["int"],default:null},hidden_size:{type:["int"],default:null},bias:{type:["bool"],default:"True"},nonlinearity:{type:["obj"],default:"tanh"}},LSTMCell:{input_size:{type:["int"],default:null},hidden_size:{type:["int"],default:null},bias:{type:["bool"],default:"True"}},GRUCell:{input_size:{type:["int"],default:null},hidden_size:{type:["int"],default:null},bias:{type:["bool"],default:"True"}},Linear:{in_features:{type:["int"],default:null},out_features:{type:["int"],default:null},bias:{type:["bool"],default:"False"}},Bilinear:{in1_features:{type:["int"],default:null},in2_features:{type:["int"],default:null},out_features:{type:["int"],default:null},bias:{type:["bool"],default:"False"}},Dropout:{p:{type:["float"],default:.5},inplace:{type:["bool"],default:"False"}},Dropout2d:{p:{type:["float"],default:.5},inplace:{type:["bool"],default:"False"}},Dropout3d:{p:{type:["float"],default:.5},inplace:{type:["bool"],default:"False"}},AlphaDropout:{p:{type:["float"],default:.5},inplace:{type:["bool"],default:"False"}},Embedding:{num_embeddings:{type:["int"],default:null},embedding_dim:{type:["int"],default:null},padding_idx:{type:["int"],default:"None"},max_norm:{type:["float"],default:"None"},norm_type:{type:["float"],default:2},scale_grad_by_freq:{type:["bool"],default:"False"},sparse:{type:["bool"],default:"False"}},EmbeddingBag:{num_embeddings:{type:["int"],default:null},embedding_dim:{type:["int"],default:null},max_norm:{type:["float"],default:"None"},norm_type:{type:["float"],default:2},scale_grad_by_freq:{type:["bool"],default:"False"},mode:{type:["str"],default:"mean"},sparse:{type:["bool"],default:"False"}},CosineSimilarity:{dim:{type:["int"],default:1},eps:{type:["float"],default:1e-8}},PairwiseDistance:{p:{type:["float"],default:2},eps:{type:["float"],default:1e-8},keepdim:{type:["bool"],default:"False"}},PixelShuffle:{upscale_factor:{type:["int"],default:null}},Upsample:{size:{type:["int","Tuple"],default:null},scale_factor:{type:["int","Tuple"],default:null},mode:{type:["str"],default:"nearest"},align_corners:{type:["bool"],default:"False"}},UpsamplingNearest2d:{size:{type:["int","Tuple"],default:null},scale_factor:{type:["flaot","Tuple"],default:null}},UpsamplingBilinear2d:{size:{type:["int","Tuple"],default:null},scale_factor:{type:["flaot","Tuple"],default:null}},Conv1dBnRelu:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},padding_mode:{type:["str"],default:"zeros"}},Conv2dBnRelu:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},padding_mode:{type:["str"],default:"zeros"}},Conv3dBnRelu:{in_channels:{type:["int"],default:null},out_channels:{type:["int"],default:null},kernel_size:{type:["int","tuple"],default:null},stride:{type:["int","tuple"],default:1},padding:{type:["int","tuple"],default:0},dilation:{type:["int","tuple"],default:1},groups:{type:["int"],default:1},bias:{type:["bool"],default:"True"},padding_mode:{type:["str"],default:"zeros"}},ConcatLayer:{dim:{type:["int"],default:1}},SumLayer:{dim:{type:["int"],default:1}},ViewLayer:{dim:{type:["str"],default:null}},MulLayer:{},AlexNet:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG11:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG13:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG16:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG19:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG11_Bn:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG13_Bn:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG16_Bn:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},VGG19_Bn:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},ResNet18:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},ResNet34:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},ResNet50:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},ResNet101:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},ResNet152:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},SqueezeNet1_0:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},SqueezeNet1_1:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},Densenet121:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},Densenet169:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},Densenet201:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},Densenet161:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},Inception_V3:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},GoogleNet:{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}},"ShuffleNet-V2":{pretrained:{type:["bool"],default:"False"},progress:{type:["bool"],default:"True"}}},nt={PyTorch:at},ot=a("2ef0");function lt(e){var t=D["e"](e.element),a=t.append("g"),n={curve:D["a"]};ot.assign(n,e);var o=new U.a.render(n),l=new K;return ot.assign(l,Ye),ot.assign(l,{NodeMetas:tt}),ot.assign(l,{frameworks:nt}),l.setFramework("PyTorch"),e.load_demo&&l.loadGraph(Je),e.model_graph&&l.loadGraph(n.model_graph),l.root_graph=t,l.inner=a,l.render=o,$.apply_style.apply(l),l.drawGraph(),l.setZoom(),l.setNodesDraggable(),l.CreateEventListerner(),l.ListerningGraphClick(),l.keyBinding(),console.log(l),l}var it="\nimport torch.nn as nn\nimport torchvision.models as models\n\n{{BlockModule}}\n\nclass {{PREFIX}}{{CLASSNAME}}(nn.Module):\n    def __init__(self):\n        super({{PREFIX}}{{CLASSNAME}}, self).__init__()\n\n        {% for item in OPTNODES -%}\n        {% if item['opt'] -%}\n        self.{{PREFIX}}{{item['name']}} = {{item['type']}}({{item['params']}})\n        {% endif -%}\n        {% endfor %}\n\n    def forward(self, {{INPUTS}} ):\n        {% for item in FORWARDOPTS -%}\n        {{item}}\n        {% endfor %}\n        return {{OUTPUTS}}\n",st="\nclass Conv1dBnRelu(nn.Module):\n    def __init__(self, in_channels, out_channels, kernel_size, stride=1, padding=0, dilation=1, groups=1, bias=True):\n        super(Conv1dBnRelu, self).__init__()\n        self.conv = nn.Conv1d(in_channels, out_channels, kernel_size, stride, padding, dilation, groups, bias)\n        self.bn = nn.BatchNorm1d(out_channels)\n        self.relu = nn.Relu()\n\n\n    def forward(self, x):\n        x = self.conv(x)\n        x = self.bn(x)\n        x = self.relu(x)\n        return x\n\n",dt="\nclass Conv2dBnRelu(nn.Module):\n    def __init__(self, in_channels, out_channels, kernel_size, stride=1, padding=0, dilation=1, groups=1, bias=True):\n        super(Conv2dBnRelu, self).__init__()\n        self.conv = nn.Conv2d(in_channels, out_channels, kernel_size, stride, padding, dilation, groups, bias)\n        self.bn = nn.BatchNorm2d(out_channels)\n        self.relu = nn.Relu()\n\n\n    def forward(self, x):\n        x = self.conv(x)\n        x = self.bn(x)\n        x = self.relu(x)\n        return x\n\n",rt="\nclass Conv3dBnRelu(nn.Module):\n    def __init__(self, in_channels, out_channels, kernel_size, stride=1, padding=0, dilation=1, groups=1, bias=True):\n        super(Conv3dBnRelu, self).__init__()\n        self.conv = nn.Conv3d(in_channels, out_channels, kernel_size, stride, padding, dilation, groups, bias)\n        self.bn = nn.BatchNorm3d(out_channels)\n        self.relu = nn.Relu()\n\n\n    def forward(self, x):\n        x = self.conv(x)\n        x = self.bn(x)\n        x = self.relu(x)\n        return x\n",ut="\nclass ConcatLayer(nn.Module):\n    def __init__(self, dim=1):\n        super().__init__()\n        self.dim=dim\n\n    def forward(self, x1, x2): return torch.cat([x1,x2], dim=self.dim)\n",pt="\nclass SumLayer(nn.Module):\n    def __init__(self, dim=1):\n        super().__init__()\n        self.dim=dim\n\n    def forward(self, x1, x2): return torch.sum([x1,x2], dim=self.dim)\n",ct="\nclass ViewLayer(nn.Module):\n    def __init__(self, *shape):\n        super(View, self).__init__()\n        self.shape = shape\n    def forward(self, input):\n        return input.view(*shape)\n",_t="\nclass MulLayer(nn.Module):\n    def __init__(self, dim=1):\n        super().__init__()\n        self.dim=dim\n\n    def forward(self, x1,x2): return x1*x2\n",ht={Conv1dBnRelu:st,Conv2dBnRelu:dt,Conv3dBnRelu:rt,ConcatLayer:ut,SumLayer:pt,ViewLayer:ct,MulLayer:_t},gt=a("afe2");function ft(e){var t,a=[],n=[],o=[],l={},i={},s="",d="Model",r=[],u=[],p="",c="";e.graph.nodes.forEach(function(s){var d=s.value.label,r=s.value.properties.schema,p=!0;"Input"==d&&(p=!1,a.push(s.v),i[s.v]=s.v),"Output"==d&&(p=!1,n.push(s.v)),-1!=Object.keys(ht).indexOf(d)?(t=d,-1==u.indexOf(d)&&(u.push(d),console.log(d),c+=ht[d])):t="torchvison.models"==r.package?"models."+d.toLowerCase():"nn."+d;var _={type:t,name:s.v,opt:p};if(p){var h,g,f=e.params[s.v],y=[];for(h in f)""!=f[h]&&(g=void 0!=f[h].value?h+"="+f[h].value:void 0!=f[h].default?h+"="+f[h].default:h+"=None",y.push(g));_["params"]=y.join(","),o.push(_),l[s.v]=_}}),e.order.forEach(function(t){var a,n;-1!==e.global_inputs.indexOf(t.opt)?(a=t.opt,n="out_"+t.opt,p=n+" = "+a):-1!==e.global_outputs.indexOf(t.opt)?(a="out_"+t.inputs.join(", out_"),n="out_"+t.opt,p=n+" = "+a):(a="out_"+t.inputs.join(", out_"),n="out_"+t.opt,p=n+" = self."+s+t.opt+"("+a+")"),r.push(p)});var _={CLASSNAME:d,PREFIX:s,BlockModule:c,INPUTS:a.join(","),INPUTNAMES:i,INPUTSIDS:a,OUTPUTSIDS:n,OUTPUTS:"out_"+n.join(", out_"),OPTNODES:o,FORWARDOPTS:r,OPTNODESMAP:l},h=gt.renderString(it,_);return h}var yt={name:"Workshop",data:function(){return{id:0,graph_model:"",visible:!1,NodeMetas:[],SelectState:"",state2:"",cur_node_select_id:"",dialogFormVisible:!1,fileList:[]}},mounted:function(){this.init();var e=this;L.$on("UpdateNode",function(t){e.graph.updateNode(t)})},methods:{init:function(){var e=this;if(this.$store.getters.getGraph){var t={element:"#root-graph",model_graph:this.$store.getters.getGraph};this.graph=lt(t)}else{var a={element:"#root-graph",load_demo:!0};this.graph=lt(a)}this.$store.commit("setGraph",this.graph.serialize()),this.SearchBox=document.querySelector("#SearchBox");for(var n=this.graph.NodeMetas.length,o=0;o<n;o++){var l=this.graph.NodeMetas[o];l.value=l.name,this.NodeMetas.push(l)}this.graph.event.on("node-double-click",function(t){e.cur_node_select_id=t.id,e.$store.commit("inspectNode",{event:t.event,node:e.graph.getNodeParamsById(t.id)})}),this.graph.event.on("node-pre-click",function(t){e.$message({showClose:!0,duration:1500,message:"前序节点不能作为该节点的输出节点",type:"warning"})}),this.graph.event.on("update-graph",function(t){e.$store.commit("setGraph",t.serialize())})},querySearch:function(e,t){var a=this.NodeMetas,n=e?a.filter(this.createFilter(e)):a;t(n)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.graph.setSearchBoxVisible(!1),this.graph.addNodeByObj(e),this.graph.updateGraph(),this.SelectState=""},genCode:function(){},serialize:function(){console.log(JSON.stringify(this.graph.serialize())),console.log("serialize")},importGraph:function(){this.dialogFormVisible=!1},exportGraph:function(){var e=JSON.stringify(this.graph.serialize());console.log("model",e);var t=this;this.$copyText(e).then(function(e){t.$message({message:"复制成功",type:"success",duration:700})},function(e){t.$message({message:"不支持复制",type:"warning",duration:700})})},graphExport:function(e){var t="data:text/json;charset=utf-8,"+JSON.stringify(this.graph.serialize()),a=encodeURI(t),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download","model.graph"),n.click()},clear:function(){this.graph.clear()},handleClick:function(){}}},mt=yt,vt=(a("a5dd"),Object(u["a"])(mt,E,O,!1,null,null,null)),bt=vt.exports,xt={name:"HelloWorld",components:{Inspect:A,Workshop:bt},data:function(){return{visible:!1}}},kt=xt,wt=(a("b7ca"),Object(u["a"])(kt,B,T,!1,null,null,null)),Ct=wt.exports,Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"codemirror"},[a("el-row",{staticClass:"code-header"},[a("el-tooltip",{staticClass:"codemirror-tools",attrs:{effect:"dark",content:"复制代码",placement:"top-start"}},[a("el-button",{staticClass:"btn-copy",attrs:{icon:"el-icon-document-copy",size:"mini"},on:{click:e.copyCode}})],1)],1),a("codemirror",{staticClass:"main-codemirror",attrs:{options:e.cmOption},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)},Bt=[],Tt=a("8a2b"),Nt=(a("a3bb"),a("d563"),a("f6055"),a("add8"),a("93e7"),a("8ddc"),a("2959"),a("b019"),a("8bb9"),a("ef9b"),a("d4fd"),a("eba6"),a("0ab9"),{components:{codemirror:Tt["codemirror"]},data:function(){return{code:"",cmOption:{autoCloseBrackets:!0,tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,mode:"text/x-python",theme:"base16-light",keyMap:"emacs",readOnly:!0}}},activated:function(){var e=this.$store.getters.getGraph;if(e)if(e.edges.length>0){var t=ft(this.$store.getters.getGraph);this.code=t}else console.log("no graph"),this.code="";else this.code=""},methods:{copyCode:function(){var e=this;this.$copyText(this.code).then(function(t){e.$message({message:"复制成功",type:"success",duration:700})},function(t){e.$message({message:"不支持复制",type:"warning",duration:700})})}}}),Pt=Nt,Lt=(a("c212"),Object(u["a"])(Pt,Rt,Bt,!1,null,null,null)),It=Lt.exports;n["default"].use(R["a"]);var St=new R["a"]({base:"",routes:[{path:"/",name:"home",component:Ct},{path:"/workshop",name:"Workshop",component:Ct},{path:"/editor",name:"Editor",component:It}]}),zt=a("5c96"),Mt=a.n(zt),Ft=(a("0fae"),a("e05f"),a("430e")),Gt=a.n(Ft);n["default"].use(Mt.a),Gt.a.config.autoSetContainer=!0,n["default"].use(Gt.a),n["default"].config.productionTip=!1,new n["default"]({store:C,router:St,render:function(e){return e(k)}}).$mount("#app")},6476:function(e,t,a){"use strict";var n=a("27ed"),o=a.n(n);o.a},"64a9":function(e,t,a){},"6d55":function(e,t,a){},a5dd:function(e,t,a){"use strict";var n=a("2d4a"),o=a.n(n);o.a},ac8a:function(e,t,a){},b7ca:function(e,t,a){"use strict";var n=a("6d55"),o=a.n(n);o.a},c212:function(e,t,a){"use strict";var n=a("2ac7"),o=a.n(n);o.a}});
//# sourceMappingURL=app.10556340.js.map